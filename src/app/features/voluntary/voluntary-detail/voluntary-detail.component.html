<section class="voluntary-detail">
  <div>
    <mat-card class="voluntary-card">
      <mat-card-header>
        <div class="voluntary-header">
          <mat-card-title> {{voluntary.nome }} </mat-card-title>
          <mat-card-subtitle>Telefone: {{voluntary.telefone | PhoneFormatPipe}}</mat-card-subtitle>
        </div>
      </mat-card-header>
      <mat-divider></mat-divider>
      <div class="content-container">
        <mat-card-content>
          <div *ngIf="isFisicPerson" class="phifical-person">
            <p class="paragraph"><b>CPF:</b> {{voluntary.documento | cpfFormat }} </p>
            <p><b>Escolaridade:</b> {{voluntary.escolaridade}} </p>
            <p><b>Idade:</b> {{voluntary.dtNascimento}} </p>
            <p><b>Tipo de voluntário:</b> {{voluntary.tipoEntidade}} </p>
            <p><b>Habilidades:</b> {{voluntary.habilidade}} </p>
          </div>
        </mat-card-content>
        <mat-card-content>
          <div *ngIf="!isFisicPerson" class="phifical-person">
            <p class="paragraph"><b>CNPJ:</b> {{voluntary.documento | cnpjFormat }} </p>
            <p><b>Tipo de voluntário:</b> {{voluntary.tipoEntidade}} </p>
          </div>
        </mat-card-content>
        <mat-divider></mat-divider>
        <mat-card-content>
          <p class="paragraph"><b>Endereço:</b> {{voluntary.endereco?.logradouro}} </p>
          <p><b>Cidade:</b> {{voluntary.endereco?.cidade}} </p>
          <p><b>Estado:</b> {{voluntary.endereco?.estado}} </p>
        </mat-card-content>
        <mat-divider></mat-divider>
        <mat-card-content>
          <p class="paragraph"><b>Cadastrado por:</b> {{voluntary.user?.nomeCompleto}} </p>
        </mat-card-content>
      </div>
    </mat-card>
  </div>

  <!-- CRIAÇÃO DE DOAÇÃO -->

  <div class="donation-section">
    <div class="open-panel-section" *ngFor="let donation of voluntary.doacoes">
      <mat-accordion>
        <mat-expansion-panel class="panel-expanded" (opened)="panelOpenState = true" (closed)="panelOpenState = false">
          <mat-expansion-panel-header>
            <mat-panel-title class="title-donation">
              {{ getTitle(donation.materialDoado)}}
            </mat-panel-title>
            <mat-panel-description>
              <span class="title-donation">Unidade: {{ donation.unidade }}</span>
            </mat-panel-description>
          </mat-expansion-panel-header>
          <div class="content-section">
            <div class="content">
              <p class="paragraph-section"> <span>Material doado: </span> {{donation.materialDoado}} </p>
              <p class="paragraph-section"> <span>Destino: </span> {{donation.destino}} </p>
              <p class="paragraph-section"> <span>Data de entrada: </span> {{getDate(donation.dtEntrada)}} </p>
              <p class="paragraph-section"> <span>Destino: </span> {{donation.destino}} </p>
              <p *ngIf="donation.preco" class="paragraph-section"> <span>Preço: </span> {{donation.preco | number: '1.2-2'}} </p>
              <p *ngIf="donation.quantidade" class="paragraph-section"> <span>Quantidade: </span> {{donation.quantidade}} </p>
              <p class="paragraph-section" *ngIf="donation.habilidade"> <span>Habilidade: </span>{{donation.habilidade}}
              </p>
              <p class="paragraph-section" *ngIf="donation.dtRetirada"> <span> Data de retirada:
                </span>{{getDate(donation.dtRetirada)}} </p>
              <p class="paragraph-section" *ngIf="donation.retiradaPor"> <span> Data de retirada:
                </span>{{donation.retiradaPor}} </p>
                <button (click)="openDialog(donation)" matTooltip="Editar" mat-raised-button color="warn">
                  <mat-icon>mode_edit_outline</mat-icon> Editar 
                </button>
            </div>
            <div class="content-actions">
              <div *ngIf="donation.turno" class="form-check-available">
                <div class="form-check-control">
                  <div class="check-group">
                    <h4 class="check-group-title"><b>Disponibilidade</b></h4>
                    <mat-checkbox class="turno-group" [disabled]="true" [(ngModel)]="donation.segunda">Segunda</mat-checkbox>
                    <mat-checkbox class="turno-group" [disabled]="true" [(ngModel)]="donation.terca">Terça</mat-checkbox>
                    <mat-checkbox class="turno-group" [disabled]="true" [(ngModel)]="donation.quarta">Quarta</mat-checkbox>
                    <mat-checkbox class="turno-group" [disabled]="true" [(ngModel)]="donation.quinta">Quinta</mat-checkbox>
                    <mat-checkbox class="turno-group" [disabled]="true" [(ngModel)]="donation.sexta">Sexta</mat-checkbox>
                  </div>
                  <mat-radio-group [(ngModel)]="donation.turno" 
                                  aria-labelledby="example-radio-group-label" 
                                  [disabled]="true"
                                  >
                    <h4 class="check-group-title"><b>Período</b></h4>
                    <mat-radio-button class="turno-group" *ngFor="let option of turnoOptions" [value]="option"> {{option}} </mat-radio-button>
                  </mat-radio-group> 
                </div> 
              </div>
            </div>
          </div>
        </mat-expansion-panel>
      </mat-accordion>
    </div>

    <app-create-donation [isFisicPerson]="isFisicPerson" [voluntaryId]="voluntaryId"
      (changeDonation)="onChangeDonations($event)">
    </app-create-donation>
  </div>

  <!-- CRIAÇÃO DE DOAÇÃO -->
</section>